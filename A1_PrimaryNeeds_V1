TES3
HEDR ESP 1067869798
    A1
    Самое необходимое (почти по Стивену Кингу :)). Или: кушать, пить, спать, что ещё нехватает человеку в игре?
    Основан на GL_Primary_Needs_2.7_MTB_RUSv1.0, созданном Balor <balor_abyss@mail.ru> и адаптированном Galib<Galleobor@yandex.ru>
MAST Morrowind.esm
DATA 79764287
MAST Tribunal.esm
DATA 6616539
MAST Bloodmoon.esm
DATA 11799703

GLOB
NAME A1V1_MesskitX
FNAM f%
FLTV 0.0

GLOB
NAME A1V1_MesskitY
FNAM f%
FLTV 0.0

GLOB
NAME A1V1_MesskitZ
FNAM f%
FLTV 0.0

GLOB
NAME A1V1_MesskitCont1
FNAM s%
FLTV 0.0

GLOB
NAME A1V1_MesskitCont2
FNAM s%
FLTV 0.0

GLOB
NAME A1V1_MesskitCont3
FNAM s%
FLTV 0.0

SCPT
SCHD A1V1_MesskitCont_sc 6 3 3 5643 88
SCVR doOnce;doRemove;doDisable;temp;doActivate;waitActivate;invItem;invCount;invRef;cx;cy;cz;;
SCDT BgEECSBzAwAgPiAyMAYBAgkgWNwQID09IDGrEQEAJAEJAQkBBgECCSBzAwAgPiAyMNsQJAEJAQYBAwggcwMAID4gMNQQFkExVjFfTWVzc2tpdEZha2VJbmdyZWQCAAUBcwMACCBzAwAgMSArJAEJAQYBAgkgWNwQID09IDHaEAUBcwMAAiAxCQEGAQkJIHMGACA9PSAyBgEGCSBYIBAgPT0gMAUBcwYAAiAwBgEBHCBY/RAgbxBBMVYxX01lc3NraXRJdGVtID09IDAFAXMDAAIgMQcBARsQFUExVjFfTWVzc2tpdFVwZGF0ZV9zYwkBCQEkAQgBBAkgcwYAID09IDEGAQEJIFggECA9PSAxBQFzBgACIDIJASQBCQEGAQEJIFggECA9PSAxJAEJARM4AAATOHMAADwPOAQADDhDAQo4OgLeEAUBcwEAAiAxBQFmAQARIEcNQTFWMV9NZXNza2l0WAAFAWYCABEgRw1BMVYxX01lc3NraXRZAAUBZgMAESBHDUExVjFfTWVzc2tpdFoACxBYZgEAAAsQWWYCAAALEFpmAwAAKjwTOAAAEzhsAAI8EzgBABM4bAACPBM4AgATOGwAAjwTOAEAEzhsAAA8DzgEAAw4EwITOAEAEzhsAAA8EzgAABM4bAAAPCk8KjwTOAAAEzhsAAI8EzgBABM4bAACPBM4AgATOGwAAjwKOMcB1BAQQTFWMV9NZXNza2l0SXRlbQEABQFsAwACIDAFAXMCAAIgMSQBBgEECSBzBQAgPT0gMQUBcwYAAiAxBQFzBQACIDAXECQBCQEGAQQKIHMCACA9PSAxMAUBcwIAAiAwABBKAMPr/+388uUg4u3o5yDoIOfg7+j14Ony5SDi4PjoIO/w6OHu8Psg6CDv8O7k7uLu6/zx8uLo5SDiINHy7uvu4vvpIMru7O/r5eryAADdECQBCQEGAQEIIHMCACA+IDUFAXMEAAIgMQcBAQUBcwQAAiAwCQETOAMAEzhzAAA8DzgEAAw4rhUFAWwDABUgRxFBMVYxX01lc3NraXRDb250MQAFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCAB0gWP0QIG8VaW5ncmVkX3NjcmliX2plbGx5XzAxAAYBAQsgbAIAIDwgbAEAAAUBbAEABSBsAgAACQETOAAAEzhsAAA8DzgEAAw4+wMTOAAAEzhsAAA8EziwAwo4xgMVaW5ncmVkX3NjcmliX2plbGx5XzAxDAEGcGxheWVyKTwTOAAAEzhsAAA8EzjjAwo4+QMVaW5ncmVkX3NjcmliX2plbGx5XzAxKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCAB0gWP0QIG8VaW5ncmVkX3NjcmliX2plcmt5XzAxAAYBAQsgbAIAIDwgbAEAAAUBbAEABSBsAgAACQETOAAAEzhsAAA8DzgEAAw43wQTOAAAEzhsAAA8EziUBAo4qgQVaW5ncmVkX3NjcmliX2plcmt5XzAxDAEGcGxheWVyKTwTOAAAEzhsAAA8EzjHBAo43QQVaW5ncmVkX3NjcmliX2plcmt5XzAxKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCABkgWP0QIG8RaW5ncmVkX2FzaF95YW1fMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDi3BRM4AAATOGwAADwTOHQFCjiGBRFpbmdyZWRfYXNoX3lhbV8wMQwBBnBsYXllcik8EzgAABM4bAAAPBM4owUKOLUFEWluZ3JlZF9hc2hfeWFtXzAxKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCABogWP0QIG8SaW5ncmVkX3NhbHRyaWNlXzAxAAYBAQsgbAIAIDwgbAEAAAUBbAEABSBsAgAACQETOAAAEzhsAAA8DzgEAAw4lAYTOAAAEzhsAAA8EzhNBgo4YQYSaW5ncmVkX3NhbHRyaWNlXzAxAAwBBnBsYXllcik8EzgAABM4bAAAPBM4fgYKOJIGEmluZ3JlZF9zYWx0cmljZV8wMQAoPAUBbAIACCBsAwAgOCAvBQFsAQAOIGwDACA4IGwCACAqIC0FAWwDAAUgbAIAAAwBBnBsYXllcgUBbAIAGSBY/RAgbxFmb29kX2t3YW1hX2VnZ18wMgAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMOGwHEzgAABM4bAAAPBM4KQcKODsHEWZvb2Rfa3dhbWFfZWdnXzAyDAEGcGxheWVyKTwTOAAAEzhsAAA8EzhYBwo4agcRZm9vZF9rd2FtYV9lZ2dfMDIoPAUBbAIACCBsAwAgOCAvBQFsAQAOIGwDACA4IGwCACAqIC0FAWwDAAUgbAIAAAwBBnBsYXllcgUBbAIAGSBY/RAgbxFmb29kX2t3YW1hX2VnZ18wMQAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMOEQIEzgAABM4bAAAPBM4AQgKOBMIEWZvb2Rfa3dhbWFfZWdnXzAxDAEGcGxheWVyKTwTOAAAEzhsAAA8EzgwCAo4QggRZm9vZF9rd2FtYV9lZ2dfMDEoPAUBbAIACCBsAwAgOCAvBQFsAQAOIGwDACA4IGwCACAqIC0FAWwDAAUgbAIAAAwBBnBsYXllcgUBbAIAFyBY/RAgbw9pbmdyZWRfYnJlYWRfMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDgWCRM4AAATOGwAADwTONcICjjnCA9pbmdyZWRfYnJlYWRfMDEMAQZwbGF5ZXIpPBM4AAATOGwAADwTOAQJCjgUCQ9pbmdyZWRfYnJlYWRfMDEoPAUBbAMAFSBHEUExVjFfTWVzc2tpdENvbnQyAAUBbAIACCBsAwAgOCAvBQFsAQAOIGwDACA4IGwCACAqIC0FAWwDAAUgbAIAAAwBBnBsYXllcgUBbAIAGiBY/RAgbxJpbmdyZWRfcmF0X21lYXRfMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDgOChM4AAATOGwAADwTOMcJCjjbCRJpbmdyZWRfcmF0X21lYXRfMDEADAEGcGxheWVyKTwTOAAAEzhsAAA8Ezj4CQo4DAoSaW5ncmVkX3JhdF9tZWF0XzAxACg8BQFsAgAIIGwDACA4IC8FAWwBAA4gbAMAIDggbAIAICogLQUBbAMABSBsAgAADAEGcGxheWVyBQFsAgAWIFj9ECBvDmluZ3JlZF9tdWNrXzAxAAYBAQsgbAIAIDwgbAEAAAUBbAEABSBsAgAACQETOAAAEzhsAAA8DzgEAAw43woTOAAAEzhsAAA8EzigCgo4sAoOaW5ncmVkX211Y2tfMDEADAEGcGxheWVyKTwTOAAAEzhsAAA8EzjNCgo43QoOaW5ncmVkX211Y2tfMDEAKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCAB4gWP0QIG8WaW5ncmVkX2thZ291dGlfaGlkZV8wMQAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMOMgLEzgAABM4bAAAPBM4eQsKOJELFmluZ3JlZF9rYWdvdXRpX2hpZGVfMDEADAEGcGxheWVyKTwTOAAAEzhsAAA8EziuCwo4xgsWaW5ncmVkX2thZ291dGlfaGlkZV8wMQAoPAUBbAIACCBsAwAgOCAvBQFsAQAOIGwDACA4IGwCACAqIC0FAWwDAAUgbAIAAAwBBnBsYXllcgUBbAIAHCBY/RAgbxRpbmdyZWRfaG91bmRfbWVhdF8wMQAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMOKsMEzgAABM4bAAAPBM4YAwKOHYMFGluZ3JlZF9ob3VuZF9tZWF0XzAxAAwBBnBsYXllcik8EzgAABM4bAAAPBM4kwwKOKkMFGluZ3JlZF9ob3VuZF9tZWF0XzAxACg8BQFsAgAIIGwDACA4IC8FAWwBAA4gbAMAIDggbAIAICogLQUBbAMABSBsAgAADAEGcGxheWVyBQFsAgAbIFj9ECBvE2luZ3JlZF9jcmFiX21lYXRfMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDiJDRM4AAATOGwAADwTOEINCjhWDRNpbmdyZWRfY3JhYl9tZWF0XzAxDAEGcGxheWVyKTwTOAAAEzhsAAA8EzhzDQo4hw0TaW5ncmVkX2NyYWJfbWVhdF8wMSg8BQFsAgAIIGwDACA4IC8FAWwBAA4gbAMAIDggbAIAICogLQUBbAMABSBsAgAADAEGcGxheWVyBQFsAgAaIFj9ECBvEmluZ3JlZF9jb21iZXJyeV8wMQAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMOGYOEzgAABM4bAAAPBM4Hw4KODMOEmluZ3JlZF9jb21iZXJyeV8wMQAMAQZwbGF5ZXIpPBM4AAATOGwAADwTOFAOCjhkDhJpbmdyZWRfY29tYmVycnlfMDEAKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCAB8gWP0QIG8XaW5ncmVkX2NvcmtidWxiX3Jvb3RfMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDhQDxM4AAATOGwAADwTOAEPCjgZDxdpbmdyZWRfY29ya2J1bGJfcm9vdF8wMQwBBnBsYXllcik8EzgAABM4bAAAPBM4Ng8KOE4PF2luZ3JlZF9jb3JrYnVsYl9yb290XzAxKDwFAWwDABUgRxFBMVYxX01lc3NraXRDb250MwAFAWwCAAggbAMAIDIgLwUBbAEADiBsAwAgMiBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCACEgWP0QIG8ZbWlzY19jb21fc2lsdmVyd2FyZV9rbmlmZQAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMOFsQEzgAABM4bAAAPBM4CBAKOCIQGW1pc2NfY29tX3NpbHZlcndhcmVfa25pZmUMAQZwbGF5ZXIpPBM4AAATOGwAADwTOD8QCjhZEBltaXNjX2NvbV9zaWx2ZXJ3YXJlX2tuaWZlKDwFAWwCAAggbAMAIDIgLwUBbAEADiBsAwAgMiBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCABsgWP0QIG8TbWlzY19jb21fd29vZF9rbmlmZQAGAQELIGwCACA8IGwBAAAFAWwBAAUgbAIAAAkBEzgAABM4bAAAPA84BAAMODkREzgAABM4bAAAPBM48hAKOAYRE21pc2NfY29tX3dvb2Rfa25pZmUMAQZwbGF5ZXIpPBM4AAATOGwAADwTOCMRCjg3ERNtaXNjX2NvbV93b29kX2tuaWZlKDwFAWwCAAggbAMAIDIgLwUBbAEADiBsAwAgMiBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCACAgWP0QIG8YbWlzY19jb21fc2lsdmVyd2FyZV9mb3JrAAYBAQsgbAIAIDwgbAEAAAUBbAEABSBsAgAACQETOAAAEzhsAAA8DzgEAAw4KBITOAAAEzhsAAA8EzjVEQo47xEYbWlzY19jb21fc2lsdmVyd2FyZV9mb3JrAAwBBnBsYXllcik8EzgAABM4bAAAPBM4DBIKOCYSGG1pc2NfY29tX3NpbHZlcndhcmVfZm9yawAoPAUBbAIACCBsAwAgMiAvBQFsAQAOIGwDACAyIGwCACAqIC0FAWwDAAUgbAIAAAwBBnBsYXllcgUBbAIAGiBY/RAgbxJtaXNjX2NvbV93b29kX2ZvcmsABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDgFExM4AAATOGwAADwTOL4SCjjSEhJtaXNjX2NvbV93b29kX2ZvcmsADAEGcGxheWVyKTwTOAAAEzhsAAA8EzjvEgo4AxMSbWlzY19jb21fd29vZF9mb3JrACg8BQFsAgAIIGwDACA4IC8FAWwBAA4gbAMAIDggbAIAICogLQUBbAMABSBsAgAADAEGcGxheWVyBQFsAgAcIFj9ECBvFGRlZXBuaWdodF90cmF2ZWxGb29kAAYBAQsgbAIAIDwgbAEAAAUBbAEABSBsAgAACQETOAAAEzhsAAA8DzgEAAw46BMTOAAAEzhsAAA8EzidEwo4sxMUZGVlcG5pZ2h0X3RyYXZlbEZvb2QADAEGcGxheWVyKTwTOAAAEzhsAAA8EzjQEwo45hMUZGVlcG5pZ2h0X3RyYXZlbEZvb2QAKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCABkgWP0QIG8RaW5ncmVkX3NjdXR0bGVfMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDjAFBM4AAATOGwAADwTOH0UCjiPFBFpbmdyZWRfc2N1dHRsZV8wMQwBBnBsYXllcik8EzgAABM4bAAAPBM4rBQKOL4UEWluZ3JlZF9zY3V0dGxlXzAxKDwFAWwCAAggbAMAIDggLwUBbAEADiBsAwAgOCBsAgAgKiAtBQFsAwAFIGwCAAAMAQZwbGF5ZXIFAWwCABwgWP0QIG8UaW5ncmVkX3RyYW1hX3Jvb3RfMDEABgEBCyBsAgAgPCBsAQAABQFsAQAFIGwCAAAJARM4AAATOGwAADwPOAQADDijFRM4AAATOGwAADwTOFgVCjhuFRRpbmdyZWRfdHJhbWFfcm9vdF8wMQAMAQZwbGF5ZXIpPBM4AAATOGwAADwTOIsVCjihFRRpbmdyZWRfdHJhbWFfcm9vdF8wMQAoPAUBcwIAAyAxMCQBBgECCCBzAgAgPiAwBQFzAgAIIHMCACAxICskAQkBBgEGCSBYGBAgPT0gMQYBAQkgWIoRID09IDAFAXMFAAIgMQcBARsQD0ExVjFfTWVzc2tpdEVhdAkBJAEJAQEB
SCTX
    Begin A1V1_MesskitCont_sc
    
    short doOnce
    short doRemove
    short doDisable
    short temp
    float cx
    float cy
    float cz
    long invItem
    long invCount
    long invRef
    short doActivate
    short waitActivate
    
    if ( doDisable > 20 )
    	if ( GetDisabled == 1 )
    		SetDelete 1
    		return
    	endif
    endif
    
    if ( doDisable > 20 )
    	Disable
    	return
    endif
    
    if ( doDisable > 0 )
    	AddItem "A1V1_MesskitFakeIngred", 2
    	set doDisable to ( doDisable + 1 )
    	return
    endif
    
    if ( GetDisabled == 1 )
    	Enable
    	set doDisable to 1
    endif
    
    if ( waitActivate == 2 )
    	if ( MenuMode == 0 )
    		set waitActivate to 0
    		if ( GetItemCount A1V1_MesskitItem == 0 )
    			set doDisable to 1
    		else
    			StartScript A1V1_MesskitUpdate_sc
    		endif
    	endif
    	return
    elseif ( waitActivate == 1 )
    	if ( MenuMode == 1 )
    		set waitActivate to 2
    	endif
    	return
    endif
    
    if ( MenuMode == 1 )
    	return
    endif
    
    ifx ( doOnce )
    else
    	DisablePlayerControls
    	set doOnce to 1
    	set cx to A1V1_MesskitX
    	set cy to A1V1_MesskitY
    	set cz to A1V1_MesskitZ
    	SetPos X cx
    	SetPos Y cy
    	SetPos Z cz
    	setx invItem,invCount,invRef to xInventory
    	whilex ( invCount )
    		xRemoveItem invItem invCount
    		setx invItem,invCount,invRef to xInventory
    	endwhile
    	AddItem "A1V1_MesskitItem", 1
    	set invRef to 0
    	set doRemove to 1
    	return
    endif
    
    if ( doActivate == 1 )
    	set waitActivate to 1
    	set doActivate to 0
    	Activate
    	return
    endif
    
    if ( doRemove == 10 )
    	set doRemove to 0
    	MessageBox "Гляньте вниз и запихайте ваши приборы и продовольствие в Столовый Комплект"
    	EnablePlayerControls
    	return
    endif
    
    if ( doRemove > 5 )
    	set temp to 1
    else
    	set temp to 0
    endif
    
    ifx ( temp )
    	set invRef to A1V1_MesskitCont1
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_scrib_jelly_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_scrib_jelly_01", invItem
    		xAddItem "ingred_scrib_jelly_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_scrib_jerky_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_scrib_jerky_01", invItem
    		xAddItem "ingred_scrib_jerky_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_ash_yam_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_ash_yam_01", invItem
    		xAddItem "ingred_ash_yam_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_saltrice_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_saltrice_01", invItem
    		xAddItem "ingred_saltrice_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "food_kwama_egg_02"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "food_kwama_egg_02", invItem
    		xAddItem "food_kwama_egg_02", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "food_kwama_egg_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "food_kwama_egg_01", invItem
    		xAddItem "food_kwama_egg_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_bread_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_bread_01", invItem
    		xAddItem "ingred_bread_01", invItem
    	endif
    
    	set invRef to A1V1_MesskitCont2
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_rat_meat_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_rat_meat_01", invItem
    		xAddItem "ingred_rat_meat_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_muck_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_muck_01", invItem
    		xAddItem "ingred_muck_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_kagouti_hide_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_kagouti_hide_01", invItem
    		xAddItem "ingred_kagouti_hide_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_hound_meat_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_hound_meat_01", invItem
    		xAddItem "ingred_hound_meat_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_crab_meat_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_crab_meat_01", invItem
    		xAddItem "ingred_crab_meat_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_comberry_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_comberry_01", invItem
    		xAddItem "ingred_comberry_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_corkbulb_root_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_corkbulb_root_01", invItem
    		xAddItem "ingred_corkbulb_root_01", invItem
    	endif
    
    	set invRef to A1V1_MesskitCont3
    	set invCount to ( invRef / 2 )
    	set invItem to (invRef - 2 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "misc_com_silverware_knife"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "misc_com_silverware_knife", invItem
    		xAddItem "misc_com_silverware_knife", invItem
    	endif
    	set invCount to ( invRef / 2 )
    	set invItem to (invRef - 2 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "misc_com_wood_knife"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "misc_com_wood_knife", invItem
    		xAddItem "misc_com_wood_knife", invItem
    	endif
    	set invCount to ( invRef / 2 )
    	set invItem to (invRef - 2 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "misc_com_silverware_fork"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "misc_com_silverware_fork", invItem
    		xAddItem "misc_com_silverware_fork", invItem
    	endif
    	set invCount to ( invRef / 2 )
    	set invItem to (invRef - 2 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "misc_com_wood_fork"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "misc_com_wood_fork", invItem
    		xAddItem "misc_com_wood_fork", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "deepnight_travelFood"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "deepnight_travelFood", invItem
    		xAddItem "deepnight_travelFood", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_scuttle_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_scuttle_01", invItem
    		xAddItem "ingred_scuttle_01", invItem
    	endif
    	set invCount to ( invRef / 8 )
    	set invItem to (invRef - 8 * invCount )
    	set invRef to invCount
    	set invCount to player->GetItemCount "ingred_trama_root_01"
    	if ( invCount < invItem )
    		set invItem to invCount
    	endif
    	ifx ( invItem )
    		player->xRemoveItem "ingred_trama_root_01", invItem
    		xAddItem "ingred_trama_root_01", invItem
    	endif
    
    	set doRemove to 10
    	return
    endif
    
    if ( doRemove > 0 )
    	set doRemove to ( doRemove + 1 )
    	return
    endif
    
    if ( OnActivate == 1 )
    	if ( GetPCSneaking == 0 )
    		set doActivate to 1
    	else
    		StartScript A1V1_MesskitEat
    	endif
    	return
    endif
    
    End\0

SCPT
SCHD A1V1_MesskitDel_sc 0 0 0 96 0
SCDT DAEGcGxheWVyBgEBHCBY/RAgbxBBMVYxX01lc3NraXRJdGVtID09IDEMAQZwbGF5ZXLVEBBBMVYxX01lc3NraXRJdGVtAQAJARwQEkExVjFfTWVzc2tpdERlbF9zYwEB
SCTX
    Begin A1V1_MesskitDel_sc
    
    if ( player->GetItemCount A1V1_MesskitItem == 1 )
    	player->RemoveItem A1V1_MesskitItem, 1
    endif
    
    StopScript A1V1_MesskitDel_sc
    
    End\0

SCPT
SCHD A1V1_MesskitEat 0 0 0 20 0
SCDT HBAPQTFWMV9NZXNza2l0RWF0AQE=
SCTX
    Begin A1V1_MesskitEat
    
    StopScript A1V1_MesskitEat
    
    End\0

SCPT
SCHD A1V1_MesskitItem_sc 1 0 0 147 9
SCVR OnPCDrop;;
SCDT BgECCSBY3BAgPT0gMasRAQAkAQkBBgEGCSBzAQAgPT0gMQUBcwEAAiAwBQFHDUExVjFfTWVzc2tpdFgGIFgKEFgABQFHDUExVjFfTWVzc2tpdFkGIFgKEFkABQFHDUExVjFfTWVzc2tpdFoGIFgKEFoA5hAQQTFWMV9NZXNza2l0Q29udAEAAABIQgAA2xAJAQEB
SCTX
    Begin A1V1_MesskitItem_sc
    
    short OnPCDrop
    
    if ( GetDisabled == 1 )
    	SetDelete 1
    	return
    endif
    
    if ( OnPCDrop == 1 )
    	set OnPCDrop to 0
    	set A1V1_MesskitX to GetPos X
    	set A1V1_MesskitY to GetPos Y
    	set A1V1_MesskitZ to GetPos Z
    	PlaceAtPC A1V1_MesskitCont 1, 50, 0
    	Disable
    endif
    
    End\0

SCPT
SCHD A1V1_StartPriNe 1 0 0 73 7
SCVR doOnce;;
SCDT BgECCSBzAQAgPT0gMAUBcwEAAiAxDAEGcGxheWVy1BAQQTFWMV9NZXNza2l0SXRlbQEACQEcEA9BMVYxX1N0YXJ0UHJpTmUBAQ==
SCTX
    Begin A1V1_StartPriNe
    
    short doOnce
    
    if ( doOnce == 0 )
    	set doOnce to 1
    	player->AddItem A1V1_MesskitItem, 1
    endif
    
    StopScript A1V1_StartPriNe
    
    End\0

SSCR
DATA 789011789164707584
NAME A1V1_StartPriNe

MISC
NAME A1V1_MesskitItem
MODL m\\Misc_pot_blue_02.nif
FNAM Магический столовый комплект
MCDT AAAAAAAAAAAAAAAA
SCRI A1V1_MesskitItem_sc
ITEX m\\tx_pot_blue_02.dds

CONT
NAME A1V1_MesskitCont
MODL m\\Misc_pot_blue_02.nif
FNAM Магический столовый комплект
CNDT AEAcRg==
FLAG 8
SCRI A1V1_MesskitCont_sc

INGR
NAME A1V1_MesskitFakeIngred
MODL n\\ingred_bittergreen_01.nif
FNAM ERROR
IRDT
    0.1 20
    41 -1 -1 -1
    -1 -1 -1 -1
    -1 -1 -1 -1
ITEX n\\tx_bittergreen_petal_01.dds

INGR
NAME deepnight_travelFood
MODL n\\Ingred_bread_01.NIF
FNAM Походный рацион
IRDT
    0.1 10
    77 -1 -1 -1
    -1 -1 -1 -1
    -1 -1 -1 -1
ITEX m\\Tx_bread_01.tga

CELL
NAME \0\0\0\0\0
DATA AgAAAA0AAAD1////
RGNN Azura's Coast Region

CELL
NAME Yansirramus
DATA QgAAAAwAAAAEAAAA
RGNN Azura's Coast Region
NAM5 6333898

CELL
NAME \0\0\0\0\0
DATA QgAAAAcAAAD3////
RGNN Ascadian Isles Region
NAM5 7216750

CELL
NAME \0\0\0\0\0
DATA AgAAAAIAAAAJAAAA
RGNN Red Mountain Region

CELL
NAME \0\0\0\0\0
DATA AgAAAAEAAAARAAAA
RGNN Ashlands Region

CELL
NAME \0\0\0\0\0
DATA AgAAAAAAAAAAAAAA
RGNN Ashlands Region

CELL
NAME \0\0\0\0\0
DATA AgAAAAAAAAD3////
RGNN Ascadian Isles Region

CELL
NAME \0\0\0\0\0
DATA AgAAAP3///8FAAAA
RGNN Ashlands Region

CELL
NAME \0\0\0\0\0
DATA AgAAAPj////8////
RGNN Bitter Coast Region

SCPT
SCHD A1V1_MesskitUpdate_sc 0 2 0 1920 15
SCVR invItem;invRef;;
SCDT BQFsAgACIDAFAWwBABcgWP0QIG8PaW5ncmVkX2JyZWFkXzAxAAYBAQggbAEAID4gNwUBbAEAAiA3CQEFAWwCAAggOCBsAgAgKgUBbAIACiBsAgAgbAEAICsFAWwBABkgWP0QIG8RZm9vZF9rd2FtYV9lZ2dfMDEABgEBCCBsAQAgPiA3BQFsAQACIDcJAQUBbAIACCA4IGwCACAqBQFsAgAKIGwCACBsAQAgKwUBbAEAGSBY/RAgbxFmb29kX2t3YW1hX2VnZ18wMgAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAaIFj9ECBvEmluZ3JlZF9zYWx0cmljZV8wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAZIFj9ECBvEWluZ3JlZF9hc2hfeWFtXzAxAAYBAQggbAEAID4gNwUBbAEAAiA3CQEFAWwCAAggOCBsAgAgKgUBbAIACiBsAgAgbAEAICsFAWwBAB0gWP0QIG8VaW5ncmVkX3NjcmliX2plcmt5XzAxAAYBAQggbAEAID4gNwUBbAEAAiA3CQEFAWwCAAggOCBsAgAgKgUBbAIACiBsAgAgbAEAICsFAWwBAB0gWP0QIG8VaW5ncmVkX3NjcmliX2plbGx5XzAxAAYBAQggbAEAID4gNwUBbAEAAiA3CQEFAWwCAAggOCBsAgAgKgUBbAIACiBsAgAgbAEAICsFAUcRQTFWMV9NZXNza2l0Q29udDEFIGwCAAAFAWwCAAIgMAUBbAEAHyBY/RAgbxdpbmdyZWRfY29ya2J1bGJfcm9vdF8wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAaIFj9ECBvEmluZ3JlZF9jb21iZXJyeV8wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAbIFj9ECBvE2luZ3JlZF9jcmFiX21lYXRfMDEABgEBCCBsAQAgPiA3BQFsAQACIDcJAQUBbAIACCA4IGwCACAqBQFsAgAKIGwCACBsAQAgKwUBbAEAHCBY/RAgbxRpbmdyZWRfaG91bmRfbWVhdF8wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAeIFj9ECBvFmluZ3JlZF9rYWdvdXRpX2hpZGVfMDEABgEBCCBsAQAgPiA3BQFsAQACIDcJAQUBbAIACCA4IGwCACAqBQFsAgAKIGwCACBsAQAgKwUBbAEAFiBY/RAgbw5pbmdyZWRfbXVja18wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAaIFj9ECBvEmluZ3JlZF9yYXRfbWVhdF8wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFHEUExVjFfTWVzc2tpdENvbnQyBSBsAgAABQFsAgACIDAFAWwBABwgWP0QIG8UaW5ncmVkX3RyYW1hX3Jvb3RfMDEABgEBCCBsAQAgPiA3BQFsAQACIDcJAQUBbAIACCA4IGwCACAqBQFsAgAKIGwCACBsAQAgKwUBbAEAGSBY/RAgbxFpbmdyZWRfc2N1dHRsZV8wMQAGAQEIIGwBACA+IDcFAWwBAAIgNwkBBQFsAgAIIDggbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAcIFj9ECBvFGRlZXBuaWdodF90cmF2ZWxGb29kAAYBAQggbAEAID4gNwUBbAEAAiA3CQEFAWwCAAggOCBsAgAgKgUBbAIACiBsAgAgbAEAICsFAWwBABogWP0QIG8SbWlzY19jb21fd29vZF9mb3JrAAYBAQggbAEAID4gMQUBbAEAAiAxCQEFAWwCAAggMiBsAgAgKgUBbAIACiBsAgAgbAEAICsFAWwBACAgWP0QIG8YbWlzY19jb21fc2lsdmVyd2FyZV9mb3JrAAYBAQggbAEAID4gMQUBbAEAAiAxCQEFAWwCAAggMiBsAgAgKgUBbAIACiBsAgAgbAEAICsFAWwBABsgWP0QIG8TbWlzY19jb21fd29vZF9rbmlmZQAGAQEIIGwBACA+IDEFAWwBAAIgMQkBBQFsAgAIIDIgbAIAICoFAWwCAAogbAIAIGwBACArBQFsAQAhIFj9ECBvGW1pc2NfY29tX3NpbHZlcndhcmVfa25pZmUABgEBCCBsAQAgPiAxBQFsAQACIDEJAQUBbAIACCAyIGwCACAqBQFsAgAKIGwCACBsAQAgKwUBRxFBMVYxX01lc3NraXRDb250MwUgbAIAABwQFUExVjFfTWVzc2tpdFVwZGF0ZV9zYwEB
SCTX
    Begin A1V1_MesskitUpdate_sc
    
    long invItem
    long invRef
    
    set invRef to 0
    set invItem to GetItemCount "ingred_bread_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "food_kwama_egg_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "food_kwama_egg_02"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_saltrice_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_ash_yam_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_scrib_jerky_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_scrib_jelly_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set A1V1_MesskitCont1 to invRef
    
    set invRef to 0
    set invItem to GetItemCount "ingred_corkbulb_root_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_comberry_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_crab_meat_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_hound_meat_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_kagouti_hide_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_muck_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_rat_meat_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set A1V1_MesskitCont2 to invRef
    
    set invRef to 0
    set invItem to GetItemCount "ingred_trama_root_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "ingred_scuttle_01"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "deepnight_travelFood"
    if ( invItem > 7 )
    	set invItem to 7
    endif
    set invRef to ( 8 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "misc_com_wood_fork"
    if ( invItem > 1 )
    	set invItem to 1
    endif
    set invRef to ( 2 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "misc_com_silverware_fork"
    if ( invItem > 1 )
    	set invItem to 1
    endif
    set invRef to ( 2 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "misc_com_wood_knife"
    if ( invItem > 1 )
    	set invItem to 1
    endif
    set invRef to ( 2 * invRef )
    set invRef to ( invRef + invItem )
    set invItem to GetItemCount "misc_com_silverware_knife"
    if ( invItem > 1 )
    	set invItem to 1
    endif
    set invRef to ( 2 * invRef )
    set invRef to ( invRef + invItem )
    set A1V1_MesskitCont3 to invRef
    
    StopScript A1V1_MesskitUpdate_sc
    
    End\0

# 27
